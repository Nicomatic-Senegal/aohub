<div class="projet-container">
    <div class="upper-home flex justify-between">
        <div class="upper-home-left flex flex-col w-[65%] p-3 ml-1 shadow-lg bg-white rounded-xl mt-3">
            <div class="upper-home-left-redbox ">
                <div class="bloc flex items-start">
                    <div>
                        <p class="w-full text-[#408A7E] font-dmsans font-bold text-lg pt-2">{{project?.title}}</p>
                        <p class="font-dmsans text-[#121212]/60 text-base">
                            {{ (project?.description | slice: 0: 300) }}
                            <span class="cursor-pointer text-[#121212] hover:text-[#408A7E]"
                                *ngIf="project?.description!.length > 300"
                                (click)="openShowMoreDialog(project?.title!, project?.description!)"> ...
                                <span class="underline hover:no-underline">{{'SHOW_MORE' | translate}} </span>
                            </span>
                        </p>
                    </div>
                    <div class="ml-auto">
                        <div class="">
                            <div *ngIf="project?.status === 'IN_PROGRESS'" class="bg-yellow-400 text-white rounded-full px-2 py-1 text-xs">In Progress üöÄ</div>
                            <div *ngIf="project?.status === 'FINISHED'" class="bg-green-500 text-white rounded-full px-2 py-1 text-xs">Completed ‚úÖ</div>
                            <div *ngIf="project?.status === 'ON_HOLD'" class="bg-red-500 text-white rounded-full px-2 py-1 text-xs">On Hold ‚è∏Ô∏è</div>
                            <div *ngIf="project?.status === 'ARCHIVED'" class="bg-gray-500 text-white rounded-full px-2 py-1 text-xs">Archived üìÅ</div>
                        </div>
                    </div>
                </div>
                
                <div class="flex items-start justify-between mt-7 w-full">
                    <div class="flex flex-col flex-1">
                        <p class="text-[#408A7E] font-dmsans text-md font-semibold mb-3">Responsable</p>
                        <p class="text-[#737373] font-dmsans text-md">{{project?.applicant?.user?.firstName}}</p>
                        <div class="flex items-center"> 
                            <img class="w-10 h-10 rounded-full" src="../../../assets/img/enterprises-logo/pem.svg" alt="">
                            <p class="text-[#737373] font-dmsans text-sm font-xs ml-3">{{project?.enterprise?.name}}</p>
                        </div>
                    </div>
                
                    <div class="flex flex-col flex-1">
                        <p class="text-[#408A7E] font-dmsans text-md font-semibold mb-3">Client</p>
                        <p class="text-[#737373] font-dmsans text-md">{{project?.client}}</p>
                    </div>
                
                    <div class="flex flex-col flex-1">
                        <p class="text-[#408A7E] font-dmsans text-md font-semibold mb-3">March√©</p>
                        <p 
                            *ngFor="let market of project?.markets"
                            class="text-[#737373] font-dmsans text-md">{{market?.name}}
                        </p>
                    </div>
                
                    <div *ngIf="project?.needType == 'CONTRACT'" class="flex flex-col flex-1">
                        <p class="text-[#408A7E] font-dmsans text-md font-semibold mb-3">Dur√©e du contrat</p>
                        <p class="text-[#737373] font-dmsans text-md">{{project?.duration}}</p>
                    </div>
                </div>         
                
                <div class="flex items-start justify-between mt-7 w-full">
                    <div class="flex flex-col flex-1">
                        <p class="text-[#408A7E] font-dmsans text-md font-semibold mb-3">Domaine</p>
                        <p 
                            *ngFor="let domain of project?.domains"
                            class="text-[#737373] font-dmsans text-md">{{domain?.name}}
                        </p>
                    </div>
                
                    <div class="flex flex-col flex-1">
                        <p class="text-[#408A7E] font-dmsans text-md font-semibold mb-3">D√©lai au plus t√¥t</p>
                        <p class="text-[#737373] font-dmsans text-md">{{project?.earliestDeadline}}</p>
                    </div>
                
                    <div class="flex flex-col flex-1">
                        <p class="text-[#408A7E] font-dmsans text-md font-semibold mb-3">D√©lai au plus tard</p>
                        <p class="text-[#737373] font-dmsans text-md">{{project?.latestDeadline}}</p>
                    </div>
                
                    <div class="flex flex-col flex-1">
                        <p class="text-[#408A7E] font-dmsans text-md font-semibold mb-3">Volume global</p>
                        <p class="text-[#737373] font-dmsans text-md">{{project?.globalVolume}}</p>
                    </div>
                </div>  

                <div class="flex items-end justify-between mt-7">
                    <div class="flex flex-col flex-1">
                        <p class="text-[#408A7E] font-dmsans text-md font-semibold mb-3">Budget</p>
                        <p class="text-[#737373] font-dmsans text-md">{{project?.budget}}</p>
                    </div>
                </div>
                

                <div class="flex items-start justify-end mt-10 w-full">
                    <div class="flex flex-col flex-1">
                        <button class="bg-[#408A7E] rounded-lg h-10 text-white text-sm font-dmsans font-semibold px-5 mt-5 mr-10">Modifier projet</button>
                    </div>
                
                    <div class="flex flex-col flex-1">
                        <button (click)="deleteProject()" class="bg-[#EE1B22] rounded-lg h-10 text-white text-sm font-dmsans font-semibold px-5 mt-5">Supprimer projet</button>
                    </div>
                </div>                

            </div>
        </div>
        <div class="upper-home-right w-[30%] mr-2">
            <div class="rounded-xl bg-white px-4 pt-4 pb-7 mb-5 mt-3 shadow-lg">
                <div class="bloc mb-2">
                    <p class="font-semibold font-md text-[#121212]">√âv√®nements</p>
                </div>
                <div class="overflow-auto no-scrollbar max-h-20">
                    <div class="flex mb-5">
                        <img src="../../../assets/img/plannification.svg" alt="" class="mr-1 mb-0.5">
                        <div class="ml-2 flex flex-col justify-between w-full">
                            <div class="flex justify-between w-full">
                                <p class="font-dmsans text-md">R√©nion de planification du projet</p>
                                <!-- <img src="../../../assets/img/trois-points.svg" alt="" class="w-3"> -->
                            </div>
                            <div class="flex justify-between w-full ">
                                <ul class="flex text-sm list-disc list-inside text-[#7D8DA6]">
                                    <li class="mr-3">R√©union</li>
                                    <li class="mr-3">07 F√©vrier 2024</li>
                                    <li class="">10:00 am</li>
                                </ul>
                                <img src="../../../assets/img/video.svg" alt="" >
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="carnet rounded-xl bg-white pl-5 pr-1 pt-4 pb-7 mr-2 shadow-lg text-[#121212]">
                <p class="font-dmsans text-md mb-3 font-semibold">Participants</p>
                <div class="overflow-auto no-scrollbar max-h-80">
                    <div 
                        *ngFor="let member of project?.teamMembers" 
                        (click)="openPartnerDetailsDialog(member)"
                        class="flex items-center gap-4 rounded-lg mb-3 p-2 mt-3 cursor-grab">
                        <img class="w-10 h-10 rounded-full" src="../../../assets/img/enterprises-logo/pem.svg" alt="">
                        <div class="font-dmsans flex flex-col justify-left items-start">
                            <p class="text-md font-medium">{{member?.user?.firstName}} {{member?.user?.lastName}}</p>
                            <p class="text-sm font-xs text-gray-400">{{member?.enterprise?.name}}</p>
                        </div>
                        <div class="flex flex-col justify-right items-start">
                            <p class="text-sm font-xs text-gray-400">{{member?.user?.login}}</p>
                        </div>
                        <div class="flex flex-col justify-right items-start">
                            <i class="fa-regular fa-eye text-sm font-xs text-gray-400"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
